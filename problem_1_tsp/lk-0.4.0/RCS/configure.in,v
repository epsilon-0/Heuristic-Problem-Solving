head	1.45;
access;
symbols
	zero-four-zero:1.44;
locks
	neto:1.45; strict;
comment	@# @;


1.45
date	98.07.16.23.06.22;	author neto;	state Exp;
branches;
next	1.44;

1.44
date	98.07.16.22.04.54;	author neto;	state Exp;
branches;
next	1.43;

1.43
date	98.05.24.01.52.14;	author neto;	state Exp;
branches;
next	1.42;

1.42
date	98.05.22.20.40.47;	author neto;	state Exp;
branches;
next	1.41;

1.41
date	98.03.14.20.07.18;	author neto;	state Exp;
branches;
next	1.40;

1.40
date	97.12.17.22.53.47;	author neto;	state Exp;
branches;
next	1.39;

1.39
date	97.12.05.21.03.49;	author neto;	state Exp;
branches;
next	1.38;

1.38
date	97.11.27.19.11.12;	author neto;	state Exp;
branches;
next	1.37;

1.37
date	97.10.31.20.55.06;	author neto;	state Exp;
branches;
next	1.36;

1.36
date	97.10.16.19.02.45;	author neto;	state Exp;
branches;
next	1.35;

1.35
date	97.10.10.22.04.48;	author neto;	state Exp;
branches;
next	1.34;

1.34
date	97.08.15.20.33.17;	author neto;	state Exp;
branches;
next	1.33;

1.33
date	97.08.15.16.49.13;	author neto;	state Exp;
branches;
next	1.32;

1.32
date	97.07.10.15.00.31;	author neto;	state Exp;
branches;
next	1.31;

1.31
date	97.07.02.21.01.49;	author neto;	state Exp;
branches;
next	1.30;

1.30
date	97.07.02.19.34.49;	author neto;	state Exp;
branches;
next	1.29;

1.29
date	97.06.20.23.00.33;	author neto;	state Exp;
branches;
next	1.28;

1.28
date	97.06.20.22.36.12;	author neto;	state Exp;
branches;
next	1.27;

1.27
date	97.06.20.22.30.37;	author neto;	state Exp;
branches;
next	1.26;

1.26
date	97.06.20.21.58.18;	author neto;	state Exp;
branches;
next	1.25;

1.25
date	97.06.19.19.47.37;	author neto;	state Exp;
branches;
next	1.24;

1.24
date	97.06.19.19.00.13;	author neto;	state Exp;
branches;
next	1.23;

1.23
date	97.06.19.18.51.46;	author neto;	state Exp;
branches;
next	1.22;

1.22
date	97.06.18.20.17.17;	author neto;	state Exp;
branches;
next	1.21;

1.21
date	97.06.18.14.25.57;	author neto;	state Exp;
branches;
next	1.20;

1.20
date	97.06.13.18.54.33;	author neto;	state Exp;
branches;
next	1.19;

1.19
date	97.06.12.19.56.46;	author neto;	state Exp;
branches;
next	1.18;

1.18
date	97.06.04.20.42.00;	author neto;	state Exp;
branches;
next	1.17;

1.17
date	97.06.02.20.42.55;	author neto;	state Exp;
branches;
next	1.16;

1.16
date	97.06.02.20.32.27;	author neto;	state Exp;
branches;
next	1.15;

1.15
date	97.06.02.20.29.35;	author neto;	state Exp;
branches;
next	1.14;

1.14
date	97.05.27.18.11.26;	author neto;	state Exp;
branches;
next	1.13;

1.13
date	97.05.16.22.22.37;	author neto;	state Exp;
branches;
next	1.12;

1.12
date	97.05.16.22.17.58;	author neto;	state Exp;
branches;
next	1.11;

1.11
date	97.05.16.21.41.02;	author neto;	state Exp;
branches;
next	1.10;

1.10
date	97.05.16.21.27.10;	author neto;	state Exp;
branches;
next	1.9;

1.9
date	97.05.15.20.01.14;	author neto;	state Exp;
branches;
next	1.8;

1.8
date	97.05.15.18.55.59;	author neto;	state Exp;
branches;
next	1.7;

1.7
date	97.05.14.20.06.13;	author neto;	state Exp;
branches;
next	1.6;

1.6
date	97.05.14.18.14.21;	author neto;	state Exp;
branches;
next	1.5;

1.5
date	97.05.14.16.06.39;	author neto;	state Exp;
branches;
next	1.4;

1.4
date	97.05.13.19.00.43;	author neto;	state Exp;
branches;
next	1.3;

1.3
date	97.05.12.21.29.34;	author neto;	state Exp;
branches;
next	;


desc
@Input to configuration file.  This is processed by Autoconf.
@


1.45
log
@That's 0.4.0, not 0.4.10
@
text
@dnl Process this file with autoconf to produce a configure script.
dnl Configuration input file for LK.
dnl vi: set tabstop=4 shiftwidth=4:
dnl $Id: configure.in,v 1.44 1998/07/16 22:04:54 neto Exp neto $

dnl      Copyright (C) 1997 David Neto
dnl   
dnl      This program is free software; you can redistribute it and/or modify
dnl      it under the terms of the GNU General Public License as published by
dnl      the Free Software Foundation; either version 2, or (at your option)
dnl      any later version.
dnl   
dnl      This program is distributed in the hope that it will be useful,
dnl      but WITHOUT ANY WARRANTY; without even the implied warranty of
dnl      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
dnl      GNU General Public License for more details.
dnl   
dnl      You should have received a copy of the GNU General Public License
dnl      along with this program; if not, write to the Free Software
dnl      Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
dnl      02111-1307, USA.


dnl Prologue ###########################################

dnl Revision is the revision number of this configure.in
AC_REVISION($Revision: 1.44 $)dnl
AC_PREREQ(2.12)dnl This was written in conjunction with Autoconf 2.12.
AC_INIT(src/lk.w)

dnl Must create config.h.in (Maybe use autoheader) 
dnl (Put config.h in AC_OUTPUT macro?)  No.
AC_CONFIG_HEADER(config.h) 

dnl Default place for installation.  Without this, the default is /usr/local
AC_PREFIX_DEFAULT(/u/neto/lk)

dnl Automake requires that VERSION and PACKAGE be defined.
PACKAGE=lk  				AC_SUBST(PACKAGE)
VERSION=0.4.0				AC_SUBST(VERSION)
AC_DEFINE_UNQUOTED(VERSION_STRING,"$VERSION")


dnl Set the MAKE variable; automake requires this for deep packages.
AC_PROG_MAKE_SET

dnl Automake needs this too.
AC_ARG_PROGRAM
dnl read up to page 6 in the automake.dvi

dnl Determine host type; defines host_cpu, host_vendor, host_os, among
dnl other things.
AC_CANONICAL_HOST

dnl Checks for programs ###############################

AC_PROG_CC
dnl SGI boxes, use the SGI compiler and -xansi
if test $GCC = yes; then
	C_DIALECT="-ansi -pedantic"
	C_WARNINGS="-Wall -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wconversion -Wstrict-prototypes -Wmissing-prototypes"
else
	C_DIALECT=""
	C_WARNINGS=""
fi
CFLAGS="$C_DIALECT $C_WARNINGS $CFLAGS"
AC_SUBST(CFLAGS)

dnl Allow configuration on AIX by enabling certain BSD library functions.
dnl (This may or may not define _ALL_SOURCE.)
AC_AIX

dnl We install scripts
fp_PROG_INSTALL

dnl The scripts that process output from LK require Perl and Bash
dnl I also use a Perl script to post-process literate Pizza programs
AC_PATH_PROG(PERL,perl)
AC_PATH_PROG(BASH,bash)

dnl CWEB programs ctangle and cweave are optional since C, Pizza, and Java
dnl sources are included.  
dnl But to modify the source and recompile, you really should have CWEB.  :)
dnl TeX is required to make dvi documentation.
dnl TEXINPUTS is inherited from the user's environment at TeX time.
dnl mp is MetaPost, for figures.
AC_PATH_PROG(CTANGLE,ctangle)
AC_PATH_PROG(CWEAVE,cweave)
AC_PATH_PROG(TEX,tex)
AC_PATH_PROG(LATEX,latex2e)
if test -z "$LATEX"; then
	AC_PATH_PROG(LATEX,latex)
fi
AC_PATH_PROG(DVIPS,dvips)
if test -z "$DVIPS"; then
	AC_PATH_PROG(DVIPS,dvipsk)
fi
AC_PATH_PROG(MP,mp)

dnl For CWEB programs, -bhp turns off banner, happy, progress output
dnl But put CWEAVEFLAGS and CTANGLEFLAGS after the default flags so
dnl the user can override on the make command line.
CTANGLEFLAGS_DEFAULT=-bhp AC_SUBST(CTANGLEFLAGS_DEFAULT)
CWEAVEFLAGS_DEFAULT=-bhp AC_SUBST(CWEAVEFLAGS_DEFAULT)
if test -z "$CTANGLE"; then
    CTANGLE_CMD='@@echo "Sorry, ctangle is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
dnl	PIZZATANGLE_CMD=$CTANGLE_CMD
dnl	JAVATANGLE_CMD=$CTANGLE_CMD
else
    # -bhp turns off the banner, happy and progress messages.
	# We use $*.w instead of $< because we might use this command line to
	# make something with a .ch file as the dependency.
    CTANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.w $(srcdir)/$*.ch; \\\
	else \\\
		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.w; \\\
	fi';
dnl    PIZZATANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
dnl        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.pw $(srcdir)/$*.ch; \\\
dnl	else \\\
dnl		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $<; \\\
dnl	fi';
dnl    JAVATANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
dnl        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.jw $(srcdir)/$*.ch; \\\
dnl	else \\\
dnl		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $<; \\\
dnl	fi';
fi
if test -z "$CWEAVE"; then
	CWEAVE_CMD='@@echo "Sorry, cweave is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
dnl	PIZZAWEAVE_CMD=$CWEAVE_CMD
dnl	JAVAWEAVE_CMD=$CWEAVE_CMD
else
	# -bhp turns off the banner, happy and progress messages.
	CWEAVE_CMD='if test -f $(srcdir)/$*.ch; then \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $(srcdir)/$*.w $(srcdir)/$*.ch; \\\
	else \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $<; \\\
	fi';
dnl	PIZZAWEAVE_CMD='if test -f $(srcdir)/$*.ch; then \\\
dnl		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $(srcdir)/$*.pw $(srcdir)/$*.ch; \\\
dnl	else \\\
dnl		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $<; \\\
dnl	fi';
dnl	JAVAWEAVE_CMD='if test -f $(srcdir)/$*.ch; then \\\
dnl		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $(srcdir)/$*.jw $(srcdir)/$*.ch; \\\
dnl	else \\\
dnl		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $<; \\\
dnl	fi';
fi
if test -z "$TEX"; then 
	TEX_CMD='@@echo "Sorry, TeX is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
else
	TEX_CMD='$(TEX) $(TEXFLAGS) $<;';
fi
if test -z "$LATEX"; then 
	LATEX_CMD='@@echo "Sorry, LaTeX is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
else
	LATEX_CMD='$(LATEX) $(LATEXFLAGS) $<;';
fi
if test -z "$DVIPS"; then 
	DVIPS_CMD='@@echo "Sorry, LaTeX is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
else
	DVIPS_CMD='$(DVIPS) $(DVIPSFLAGS) $< -o $@@;';
fi
if test -z "$MP"; then 
	MP_CMD='@@echo "Sorry, MetaPost is not installed, so I cannot make $@@ from $<" 1>&2; exit 1;';
else
	MP_CMD='$(MP) $(MPFLAGS) $< \\bye;';
fi
AC_SUBST(CTANGLE_CMD)
dnl AC_SUBST(PIZZATANGLE_CMD)
dnl AC_SUBST(JAVATANGLE_CMD)
AC_SUBST(CWEAVE_CMD)
dnl AC_SUBST(PIZZAWEAVE_CMD)
dnl AC_SUBST(JAVAWEAVE_CMD)
AC_SUBST(TEX_CMD)
AC_SUBST(LATEX_CMD)
AC_SUBST(DVIPS_CMD)
AC_SUBST(MP_CMD)

dnl The tsp instance generators in the tspgen directory are written in
dnl literate Pizza.  They need the CWEB suite to be built from sources.
dnl To be compiled, they need a Pizza compiler, which I call pizzac,
dnl a non-standard name; I think the Pizza web sites suggest 
dnl pc as the pizza compiler name.
dnl AC_PATH_PROG(PIZZAC,pizzac)
dnl if test -z "$PIZZAC"; then
dnl 	echo yeah
dnl 	PIZZAC_CMD='@@echo "Sorry, a Pizza compiler is not installed as pizzac, so I cannot make $@@ from $<" 1>&2; exit 1;';
dnl else
dnl 	PIZZAC_CMD='$(PIZZAC) $(PIZZACFLAGS) $<;';
dnl fi
dnl AC_SUBST(PIZZAC_CMD)
dnl AC_PATH_PROG(JAVAC,javac)
dnl if test -z "$JAVAC"; then
dnl 	JAVAC_CMD='@@echo "Sorry, a Java compiler is not installed as javac, so I cannot make $@@ from $<" 1>&2; exit 1;';
dnl else
dnl 	JAVAC_CMD='$(JAVAC) $(JAVACFLAGS) $<;';
dnl fi
dnl AC_SUBST(JAVAC_CMD)



dnl Checks for libraries ##############################
dnl `sqrt' is an arbitrary function in the math library, -lm
AC_CHECK_LIB(m, sqrt)

dnl Solaris 2.4 is strange because it puts getrusage and other BSD functions
dnl in -lucb.
dnl The user might have to have /usr/ucblib in their LD_LIBRARY_PATH.
dnl What about other systems?
AC_CHECK_LIB(ucb, getrusage)


dnl Checks for header files ###########################
AC_HEADER_STDC
AC_CHECK_HEADERS(limits.h sys/time.h unistd.h time.h)

dnl Header files on Solaris and IRIX are missing some prototypes.
dnl We provide prototypes for standard things only.
OS_IS_SUNOS=0; 
OS_HAS_BROKEN_HEADERS=0;
case $host_os in
	solaris* | sunos* ) OS_HAS_BROKEN_HEADERS=1 OS_IS_SUNOS=1 ;;
	irix*) OS_HAS_BROKEN_HEADERS=1 ;;
esac
AC_DEFINE_UNQUOTED(OS_HAS_BROKEN_HEADERS,$OS_HAS_BROKEN_HEADERS)

dnl We have to jump through hoops to properly get `[' and `]' because
dnl Autoconf does some funny substitutions, destryoing my sed expression.
dnl At one point I used echo -e to define lbr and rbr, but that doesn't
dnl work on Solaris 2.4.
lbr=`echo ' ' | tr ' ' '\133'`
rbr=`echo ' ' | tr ' ' '\135'`
OS_VERSION_MAJOR=`uname -r | sed -e 's/\('$lbr'0-9'$rbr'*\)\..*/\1/'`
OS_VERSION_MINOR=`uname -r | sed -e 's/'$lbr'0-9'$rbr'*\.\('$lbr'0-9'$rbr'*\).*/\1/'`
dnl echo host is $host_cpu $host_vendor $host_os 
dnl echo OS_VERSION_MAJOR is $OS_VERSION_MAJOR
dnl echo OS_VERSION_MINOR is $OS_VERSION_MINOR
AC_DEFINE_UNQUOTED(OS_IS_SUNOS,$OS_IS_SUNOS)
AC_DEFINE_UNQUOTED(OS_VERSION_MAJOR,$OS_VERSION_MAJOR)
AC_DEFINE_UNQUOTED(OS_VERSION_MINOR,$OS_VERSION_MINOR)



dnl Checks for typedefs ###############################
AC_TYPE_SIZE_T


dnl Checks for structures #############################
dnl struct rusage


dnl Checks for compiler characteristics ###############
AC_C_CONST
AC_C_INLINE
case "$ac_cv_c_inline" in
	no) AC_DEFINE(COMPILER_SUPPORTS_INLINE,0) ;;
	*) AC_DEFINE(COMPILER_SUPPORTS_INLINE,1) ;;
esac
AC_C_LONG_DOUBLE
dnl Find sizes of variables of various sizes
AC_CHECK_SIZEOF(short)
AC_CHECK_SIZEOF(int)
AC_CHECK_SIZEOF(unsigned int)
AC_CHECK_SIZEOF(long)
AC_CHECK_SIZEOF(long long)

dnl Checks for library functions ######################
AC_FUNC_VPRINTF
AC_CHECK_FUNCS(getrusage getpagesize gethostname strdup time ctime getopt nrand48)

dnl See if the library defines optarg, optind, opterr, and optopt, all required
dnl by getopt
AC_TRY_LINK([
	#if HAVE_UNISTD_H
		#define _POSIX_C_SOURCE 2
		#include <unistd.h>
	#endif
	#include <stdlib.h>
	],[{extern char *optarg; extern int optind, opterr, optopt;}],
	AC_DEFINE_UNQUOTED(LIBRARY_DEFINES_OPTARG_ETC,1),
	AC_DEFINE_UNQUOTED(LIBRARY_DEFINES_OPTARG_ETC,0))
dnl Now see if the headers also *declare* those functions.
AC_TRY_LINK([
	#if HAVE_UNISTD_H
		#define _POSIX_C_SOURCE 2
		#include <unistd.h>
	#endif
	#include <stdlib.h>
	],[{char *foo = optarg;}],
	AC_DEFINE_UNQUOTED(HEADERS_DECLARE_OPTARG_ETC,1),
	AC_DEFINE_UNQUOTED(HEADERS_DECLARE_OPTARG_ETC,0))


dnl Checks system services ############################


dnl Epilogue ##########################################

dnl The "test" for generating stamp-h is needed by Automake when using
dnl macro AC_CONFIGURE_HEADER.
AC_OUTPUT([\
Makefile \
src/Makefile \
src/compile.c \
dnl tspgen/Makefile \
dnl tspgen/pizzaw2pizza \
dnl doc/Makefile \
data/Makefile \
expt/Makefile \
script/Makefile \
script/att2upper.pl \
script/cd.pl \
script/cfresults.pl \
script/countpages.pl \
script/domst.pl \
script/doshake.pl \
script/doshakelk.pl \
script/expt.pl \
script/GB_flip.pm \
script/hist.pl \
script/improve.pl \
script/least.pl \
script/lkdoit \
script/lkdoitcmp \
script/milestone.pl \
script/mkcwebch.pl \
script/mstelratio.pl \
script/mstrsortlen.pl \
script/mstsortlen.pl \
script/myps2eps.pl \
script/number.pl \
script/PRNG.pm \
script/probe.pl \
script/results.pl \
script/spectrum.pl \
script/TSP.pm \
script/tsp2dm.pl \
script/tspbgen.pl \
script/tspreorder.pl \
script/tsprotate.pl \
], [test -z "$CONFIG_HEADERS" || echo timestamp >stamp-h])
@


1.44
log
@First public release.  0.4.0.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.43 1998/05/24 01:52:14 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.43 $)dnl
d40 1
a40 1
VERSION=0.4.10				AC_SUBST(VERSION)
@


1.43
log
@Held-Karp lower bounds fully integrated.  lk-0.3.7
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.42 1998/05/22 20:40:47 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.42 $)dnl
d40 1
a40 1
VERSION=0.3.7				AC_SUBST(VERSION)
a310 2
thesis/Makefile \
thesis/toeps.pl \
@


1.42
log
@Up to 0.3.5
This includes a finished thesis outline, and some integration o f
old held-karp and branch and bound code.
I'm actively pruning the branch and bound stuff.  Ha ha.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.41 1998/03/14 20:07:18 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.41 $)dnl
d40 1
a40 1
VERSION=0.3.6				AC_SUBST(VERSION)
@


1.41
log
@Untested support for MetaPost.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.40 1997/12/17 22:53:47 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.40 $)dnl
d40 1
a40 1
VERSION=0.2.23				AC_SUBST(VERSION)
d316 1
d323 1
d327 1
d335 1
d339 1
@


1.40
log
@Try to deterimine if optarg is declared in headers.
Up to 0.2.13.  This includes jitter and shake, working versions!
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.39 1997/12/05 21:03:49 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.39 $)dnl
d40 1
a40 1
VERSION=0.2.13				AC_SUBST(VERSION)
d86 1
d90 9
d156 15
d178 3
d310 3
d318 1
d321 1
@


1.39
log
@Added support for nrand48, and detecting whether the compiler supports
inlining.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.38 1997/11/27 19:11:12 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.38 $)dnl
d40 1
a40 1
VERSION=0.2.9 				AC_SUBST(VERSION)
d257 10
d288 1
@


1.38
log
@Added LIBRARY DEFINES OPTARG ETC
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.37 1997/10/31 20:55:06 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.37 $)dnl
d40 1
a40 1
VERSION=0.2.7 				AC_SUBST(VERSION)
d230 4
d244 1
a244 1
AC_CHECK_FUNCS(getrusage getpagesize gethostname strdup time ctime getopt)
@


1.37
log
@Up to 0.2.0
This has quadrant neighbours support, decluster, a fixed tspreorder.
Also, support for Bentley-style graphical comparison (via Gnu make).
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.36 1997/10/16 19:02:45 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.36 $)dnl
d40 1
a40 1
VERSION=0.2.0 				AC_SUBST(VERSION)
d106 1
a106 1
		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $<; \\\
d240 13
a252 1
AC_CHECK_FUNCS(getrusage getpagesize gethostname strdup time ctime)
d273 2
d280 1
d285 1
d287 4
@


1.36
log
@Now version 0.1.10
Changed scripts to script, expts to expt.
Added tsprotate.pl
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.35 1997/10/10 22:04:48 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.35 $)dnl
d40 1
a40 1
VERSION=0.1.10 				AC_SUBST(VERSION)
@


1.35
log
@up to 0.1.9
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.34 1997/08/15 20:33:17 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.34 $)dnl
d40 1
a40 1
VERSION=0.1.9 				AC_SUBST(VERSION)
d257 16
a272 13
expts/Makefile \
scripts/Makefile \
scripts/cd.pl \
scripts/hist.pl \
scripts/improve.pl \
scripts/lkdoit \
scripts/lkdoitcmp \
scripts/milestone.pl \
scripts/mstelratio.pl \
scripts/mstsortlen.pl \
scripts/number.pl \
scripts/probe.pl \
scripts/tspreorder.pl \
@


1.34
log
@Up to version 0.1.7
lk now has a -m option to print MST edge lengths.
Next job is to write src/tspgen.w, to create a clone based on those
lengths.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.33 1997/08/15 16:49:13 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.33 $)dnl
d40 1
a40 1
VERSION=0.1.7 				AC_SUBST(VERSION)
@


1.33
log
@I'm no longer using a tspgen subdirectory, and no longer using
Pizza nor Java.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.32 1997/07/10 15:00:31 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.32 $)dnl
d40 1
a40 1
VERSION=0.1.6 				AC_SUBST(VERSION)
d260 1
d265 2
@


1.32
log
@Added support of literate Pizza and literate Java.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.31 1997/07/02 21:01:49 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.31 $)dnl
d40 1
a40 1
VERSION=0.1.4 				AC_SUBST(VERSION)
d77 1
d81 3
a83 3
dnl CWEB programs ctangle and cweave are optional since C sources are
dnl included.  But to modify the source and recompile, you really should
dnl have CWEB.  :)
d90 1
a90 1
dnl -bhp turns off banner, happy, progress output
d97 2
d108 10
a117 10
    PIZZATANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.pw $(srcdir)/$*.ch; \\\
	else \\\
		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $<; \\\
	fi';
    JAVATANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $(srcdir)/$*.jw $(srcdir)/$*.ch; \\\
	else \\\
		$(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $<; \\\
	fi';
d121 2
d130 10
a139 10
	PIZZAWEAVE_CMD='if test -f $(srcdir)/$*.ch; then \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $(srcdir)/$*.pw $(srcdir)/$*.ch; \\\
	else \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $<; \\\
	fi';
	JAVAWEAVE_CMD='if test -f $(srcdir)/$*.ch; then \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $(srcdir)/$*.jw $(srcdir)/$*.ch; \\\
	else \\\
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $<; \\\
	fi';
d147 2
d150 2
d154 21
d254 2
a255 1
tspgen/Makefile \
@


1.31
log
@Now version 0.1.4
The declustering works well.  Now I'll move onto generating data
and cleaning up some behaviours and porting issues (see TODO).
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.30 1997/07/02 19:34:49 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.30 $)dnl
d105 10
d125 10
d224 1
a236 13
dnl scripts/avg.pl \
dnl scripts/avgtable.pl \
dnl scripts/countpages.pl \
dnl scripts/cumsum.pl \
dnl scripts/cws.pl \
dnl scripts/log2gpl.pl \
dnl scripts/lookatedge.pl \
dnl scripts/maketable.pl \
dnl scripts/moves.pl \
dnl scripts/pagecount.pl \
dnl scripts/probe2.pl \
dnl scripts/skipnum.pl \
dnl scripts/striphashline.pl \
@


1.30
log
@Added support for cd.pl script
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.29 1997/06/20 23:00:33 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.29 $)dnl
d40 1
a40 1
VERSION=0.1.3 				AC_SUBST(VERSION)
@


1.29
log
@Added improve.pl to scripts.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.28 1997/06/20 22:36:12 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.28 $)dnl
d207 1
@


1.28
log
@Got rid of that darn header preservation.
It was remaking the dependencies all the time!
Update to version 0.1.3.  Now the declustering appears to work.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.25 1997/06/19 19:47:37 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.25 $)dnl
d207 1
@


1.27
log
@Fixed preservation of header files.
But now it ctangles twice.  Alas
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.26 1997/06/20 21:58:18 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.26 $)dnl
d40 1
a40 1
VERSION=0.1.2 				AC_SUBST(VERSION)
a87 1
AC_PATH_PROG(DIFF,diff)
d100 1
a100 3
	# Also, preserve header files that don't change.
    CTANGLE_CMD='if test -f $*.h; then mv -f $*.h $*.h.old; fi; \\\
	if test -f $(srcdir)/$*.ch; then \\\
d104 1
a104 3
	fi;\\\
	test -f $*.h.old \&\& diff $*.h.old $*.h >/dev/null \&\& mv -f $*.h.old $*.h;\\\
	rm -f $*.h.old';
@


1.26
log
@Try to preserve timestamps for .h header files that don't change.
(This is in the CTANGLE CMD)
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.25 1997/06/19 19:47:37 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.25 $)dnl
a87 2
AC_PATH_PROG(RM,rm)
AC_PATH_PROG(MV,mv)
d102 1
a102 3
    CTANGLE_CMD='\\\
	$(RM) -f $*.h.old; \\\
	if test -f $*.h; then $(MV) $*.h $*.h.old; fi \\\
d107 3
a109 4
	fi\\\
	if [ -f $*.h.old -a diff $*.h.old $*.h ]; then \\\
		$(RM) $*.h; $(MV) $*.h.old $*.h; \\\
	fi';
@


1.25
log
@Added expts subdirectory.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.24 1997/06/19 19:00:13 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.24 $)dnl
d88 3
d103 5
a107 1
    CTANGLE_CMD='if test -f $(srcdir)/$*.ch; then \\\
d111 3
@


1.24
log
@Moved src/doitcmp to scripts/lkdoitcmp
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.23 1997/06/19 18:51:46 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.23 $)dnl
d205 1
@


1.23
log
@Find Bash too.
Also commented out the scripts I'm not using now, and which may be out
of date.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.22 1997/06/18 20:17:17 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.22 $)dnl
a203 1
src/doitcmp \
@


1.22
log
@Added script tspreorder.pl
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.21 1997/06/18 14:25:57 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.21 $)dnl
d76 1
a76 1
dnl The scripts that process output from LK require Perl.
d78 1
d207 2
a208 8
scripts/avg.pl \
scripts/avgtable.pl \
scripts/countpages.pl \
scripts/cumsum.pl \
scripts/cws.pl \
scripts/log2gpl.pl \
scripts/lookatedge.pl \
scripts/maketable.pl \
a209 1
scripts/moves.pl \
a210 1
scripts/pagecount.pl \
a211 3
scripts/probe2.pl \
scripts/skipnum.pl \
scripts/striphashline.pl \
d214 13
@


1.21
log
@version 0.1.2
Added doitcmp and milestone.pl
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.20 1997/06/13 18:54:33 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.20 $)dnl
d222 1
@


1.20
log
@Added VERSION STRING
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.19 1997/06/12 19:56:46 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.19 $)dnl
d40 2
a41 2
VERSION=0.1.1 				AC_SUBST(VERSION)
VERSION_STRING="$VERSION" 	AC_SUBST(VERSION_STRING)
d203 1
d214 1
@


1.19
log
@updated version to 0.1.1
decluster works according to selftest.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.18 1997/06/04 20:42:00 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.18 $)dnl
d39 3
a41 2
PACKAGE=lk  	AC_SUBST(PACKAGE)
VERSION=0.1.1 	AC_SUBST(VERSION)
@


1.18
log
@Added unsigned int size check.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.17 1997/06/02 20:42:55 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.17 $)dnl
d40 1
a40 1
VERSION=0.1 	AC_SUBST(VERSION)
@


1.17
log
@Need to check for time.h too.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.16 1997/06/02 20:32:27 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.16 $)dnl
d182 1
@


1.16
log
@Typo : second lbr definition is really rbr (right bracket)
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.15 1997/06/02 20:29:35 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.15 $)dnl
d138 1
a138 1
AC_CHECK_HEADERS(limits.h sys/time.h unistd.h)
@


1.15
log
@echo -e doesn't work on Solaris 2.4
Use echo and tr instead.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.14 1997/05/27 18:11:26 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.14 $)dnl
d155 1
a155 1
lbr=`echo ' ' | tr ' ' '\135'`
@


1.14
log
@I want to know if the compiler supports inline.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.13 1997/05/16 22:22:37 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.13 $)dnl
d152 4
a155 2
lbr=`echo -e \\\\133`
rbr=`echo -e \\\\135`
@


1.13
log
@Make GCC warnings only one line.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.12 1997/05/16 22:17:58 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.12 $)dnl
d175 1
@


1.12
log
@Make compile.c at configure time, not link time.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.11 1997/05/16 21:41:02 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.11 $)dnl
d60 1
a60 2
	C_WARNINGS="-Wall -Wpointer-arith -Wcast-qual -Wcast-align \
		-Wwrite-strings -Wconversion -Wstrict-prototypes -Wmissing-prototypes"
@


1.11
log
@Configure all the scripts.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.10 1997/05/16 21:27:10 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.10 $)dnl
d198 1
@


1.10
log
@More time functions.
Better support for testing OS supplier, name, version, etc.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.9 1997/05/15 20:01:14 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.9 $)dnl
d201 14
@


1.9
log
@Add support for knowing sizes of variables, including detection of
long long.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.8 1997/05/15 18:55:59 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.8 $)dnl
d50 3
d125 1
d130 1
a130 1
dnl Solars 2.4 is strange because it puts getrusage and other BSD functions
d133 1
a133 1
dnl what about other systems?
d141 24
d185 1
a185 1
AC_CHECK_FUNCS(getrusage getpagesize gethostname strdup)
@


1.8
log
@Now this is fixed for installing scripts.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.7 1997/05/14 20:06:13 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.7 $)dnl
d149 5
a154 1

a173 4




@


1.7
log
@Try to support .ch as a dependency in ctangle and cweave build rules.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.6 1997/05/14 18:14:21 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.6 $)dnl
d70 2
a71 2
dnl (perhaps fp_PROG_INSTALL, since we install scripts. Section 8 of automake)
AC_PROG_INSTALL
d163 7
a169 1
AC_OUTPUT([Makefile src/Makefile scripts/avg.pl], [test -z "$CONFIG_HEADERS" || echo timestamp >stamp-h])
@


1.6
log
@Added vi line to set tabstops.
Removed HAVE_PERL
Clean up final makefile by deciding at configure time what CTANGLE_CMD
should be.  Same for CWEAVE_CMD and TEX_CMD.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.5 1997/05/14 16:06:39 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.5 $)dnl
d80 1
a83 1
dnl Check for cwebmac.tex... or just include it.
d94 2
d97 1
a97 1
        $(CTANGLE) $(CTANGLEFLAGS_DEFAULT) $(CTANGLEFLAGS) $< $*.ch; \\\
d107 1
a107 1
		$(CWEAVE) $(CWEAVEFLAGS_DEFAULT) $(CWEAVEFLAGS) $< $*.ch; \\\
@


1.5
log
@Pass CFLAGS down directly instead of C_DIALECT and C_WARNINGS.
@
text
@d3 2
a4 2
dnl
dnl $Id: configure.in,v 1.4 1997/05/13 19:00:43 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.4 $)dnl
a74 1
AC_CHECK_PROG(HAVE_PERL,perl,yes,no)
a75 1

d79 1
d83 1
a83 1
dnl Check for cwebmac.tex...
d85 33
d162 4
@


1.4
log
@Fix grammar in comment.
Get the whole path of a program.
make src/Makefile.
@
text
@d4 1
a4 1
dnl $Id: configure.in,v 1.3 1997/05/12 21:29:34 neto Exp neto $
d27 1
a27 1
AC_REVISION($Revision: 1.3 $)dnl
d54 1
d63 2
a64 2
AC_SUBST(C_DIALECT)
AC_SUBST(C_WARNINGS)
d74 1
d77 1
d129 1
a129 1
AC_OUTPUT(Makefile src/Makefile, [test -z "$CONFIG_HEADERS" || echo timestamp >stamp-h])
@


1.3
log
@Configuration template for LK, the program.
Process with autoconf to create configure
@
text
@d4 1
a4 1
dnl $Id$
d27 1
a27 1
AC_REVISION($Revision$)dnl
d43 1
a43 1
dnl sets the MAKE variable
d69 1
d78 4
a81 2
AC_CHECK_PROG(HAVE_CTANGLE,ctangle,yes,no)
AC_CHECK_PROG(HAVE_CWEAVE,cweave,yes,no)
d126 1
a126 1
AC_OUTPUT(Makefile, [test -z "$CONFIG_HEADERS" || echo timestamp >stamp-h])
@
