head	1.11;
access
	david
	neto;
symbols
	zero-four-zero:1.11;
locks
	neto:1.11; strict;


1.11
date	98.07.16.21.58.55;	author neto;	state Exp;
branches;
next	1.10;

1.10
date	98.04.16.14.50.21;	author neto;	state Exp;
branches;
next	1.9;

1.9
date	97.10.18.17.26.45;	author neto;	state Exp;
branches;
next	1.8;

1.8
date	97.10.11.13.48.58;	author neto;	state Exp;
branches;
next	1.7;

1.7
date	97.08.15.20.18.25;	author neto;	state Exp;
branches;
next	1.6;

1.6
date	97.06.25.21.04.24;	author neto;	state Exp;
branches;
next	1.5;

1.5
date	97.05.16.21.31.58;	author neto;	state Exp;
branches;
next	1.4;

1.4
date	97.05.16.18.14.55;	author neto;	state Exp;
branches;
next	1.3;

1.3
date	97.05.16.16.08.46;	author neto;	state Exp;
branches;
next	1.2;

1.2
date	97.01.21.21.55.55;	author david;	state Exp;
branches;
next	1.1;

1.1
date	96.07.15.21.21.18;	author david;	state Exp;
branches;
next	;


desc
@Distance calculations for an arbitrary TSPLIB instance.
@


1.11
log
@Added the LGPL notice in each file.
@
text
@


\noindent Copyright \copyright 1994, 1995, 1996, 1997, 1998 David Neto
\smallskip

\noindent 
   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Library General Public
   License as published by the Free Software Foundation; either
   version 2 of the License, or (at your option) any later version.
\smallskip

\noindent 
   This library is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
   Library General Public License for more details.
\smallskip

\noindent   
   You should have received a copy of the GNU Library General Public
   License along with this library; if not, write to the
   Free Software Foundation, Inc., 59 Temple Place - Suite 330,
   Boston, MA  02111-1307, USA.
\smallskip

\noindent   
   You may contact David Neto via email at {\tt netod@@@@acm.org}, or with
   greater latency at
\smallskip
\noindent{\obeylines
     Department of Computer Science
     University of Toronto
     10 King's College Rd.
     Toronto, Ontario
     M5S 3G4
     Canada
}
\medskip


\noindent\hbox{}\hrule\hbox{}\penalty-1000
\vskip0.5cm\relax



@@i webdefs.w
@@i types.w

@@*A distance calculator for TSPLIB files.

@@c
#include <config.h>
#include "lkconfig.h"
#include <stdio.h>
#include <stddef.h>
#include <stdlib.h>

#include "length.h"
#include "read.h"@@;

@@<Subroutines@@>@@;

@@
@@<Subroutines@@>=
int noround=1;
int 
main(int argc, char **argv) {
	char const * TSPLIB_in = "../data/lin105.tsp";
	tsp_instance_t *tsp;
	FILE *TSPLIB_file;
	int a, b;
	if (argc > 1) {
		TSPLIB_in = argv[1];
	}
	if ( NULL==(TSPLIB_file=fopen(TSPLIB_in,"r")) ) {
		fprintf(stderr,"Couldn't open %s for reading\n",TSPLIB_in);
		exit(1);
	}
	tsp = read_tsp_file(TSPLIB_file,NULL);
	while( scanf(" %d %d",&a,&b) == 2 ) {
		if ( a < 0 || a > tsp->n ) {
			printf("a=%d is out of range [0,%d)\n",a,tsp->n);
			continue;
		}
		if ( b < 0 || b > tsp->n ) {
			printf("b=%d is out of range [0,%d)\n",b,tsp->n);
			continue;
		}
		printf("cost(%d,%d)=="length_t_spec"\n",a,b,cost(a,b));
	}
	return 0;
}

@@*Index.
@


1.10
log
@Fixed character cast, and the name of the default file.
@
text
@d1 47
a47 1
@@i copyrt.w
@


1.9
log
@Use raw distances, not rounded.
@
text
@d24 1
a24 1
	char *TSPLIB_in = (char *) "run/lin105.tsp";
@


1.8
log
@Be a little intelligent about the input.
@
text
@d21 1
a21 1
int noround=0;
@


1.7
log
@Added Index major section.
@
text
@d25 1
d35 1
a35 1
	read_tsp_file(TSPLIB_file,NULL);
d37 8
@


1.6
log
@include lkconfig.h
@
text
@d40 2
@


1.5
log
@Cast away the const qualifier.
@
text
@d9 1
@


1.4
log
@Include <config.h>
@
text
@d23 1
a23 1
	char *TSPLIB_in = "run/lin105.tsp";
@


1.3
log
@noround is required by read.w   so I've added it here.
@
text
@d8 1
@


1.2
log
@Added standard copyright notice by including copyrt.w
@
text
@d19 1
@


1.1
log
@Initial revision
@
text
@d1 1
@
